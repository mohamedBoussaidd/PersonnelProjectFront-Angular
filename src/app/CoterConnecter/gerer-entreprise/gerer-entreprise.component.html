<div class=" d-flex flex-column col">
    <div class="justify-content-around row">
        <ul class="list-group col">
            <li class="list-group-item bg-info d-flex text-white justify-content-center align-items-center">
                PRODUITS
            </li>
            <div *ngFor="let item of listProduits">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{item.designation}}
                    <span class="badge bg-info rounded-pill">{{item.stock}}</span>
                    <span class="badge rounded-pill">{{item.prix | currency :'EUR':'€'}}/Unité</span>
                </li>
            </div>
        </ul>
        <div class="list-group col">
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{entreprise.name}}
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{entreprise.adress}}
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{entreprise.number}}
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{entreprise.email}}
            </li>
        </div>
        <ul class="list-group col">
            <li class="list-group-item d-flex bg-info text-white justify-content-center align-items-center">
                CLIENTS
            </li>
            <div *ngFor="let item of listClients">
                <li class="list-group-item d-flex  justify-content-between align-items-center">
                    {{item.nom}}
                    <span class="badge rounded-pill">{{item.email}}</span>
                    <span class="badge rounded-pill">{{item.numero}}</span>
                    <span class="badge rounded-pill">{{item.adresse}}</span>
                </li>
            </div>
        </ul>

    </div>
    <div>
        <div class="mb-2  col d-flex justify-content-around ">

            <!-- AJOUT DE PRODUITS -->
            <div class="d-flex flex-column col">
                <div class="d-flex flex-row m-2">
                    <button type="button" class="col-10 btn btn-info" (click)="ajoutChampProduit()">
                        Ajouter un produit
                    </button>

                </div>
                <div class=" ml-2">
                    <form class="form-group mt-5" [formGroup]="form" (ngSubmit)="form.valid && onSubmit()">
                        <div formArrayName="champ"
                            class="d-flex col-12 justify-content-center align-items-center flex-column">
                            <div *ngFor="let item of champ.controls; let i=index">
                                <div [formGroupName]="i" class="row mb-5">
                                    <div class="d-flex col ml-3 flex-column justify-content-center">
                                        <label class="col-2">Désignation</label>
                                        <input class="form-control col" type="text" formControlName="designation">
                                    </div>
                                    <div class="d-flex col ml-3 flex-column justify-content-center">
                                        <label class="col-2">Prix/U</label>
                                        <input class="form-control col" type="number" formControlName="prix">
                                    </div>
                                    <div class="d-flex col ml-3 flex-column justify-content-center">
                                        <label class="col-md-2">Stock</label>
                                        <input class="form-control col" type="number" formControlName="stock">
                                    </div>
                                    <div class="d-flex col ml-3 flex-column justify-content-center">
                                        <label class="col mt-3">Total du Stock HT</label>
                                        <input class="form-control col" readonly="readonly"
                                            value="{{form.get('champ').value[i].stock * form.get('champ').value[i].prix}} €">
                                    </div>
                                    <button class="btn btn-danger" (click)="suppChamp(i)">Supprimer</button>
                                </div>
                            </div>
                        </div>
                        <p class="d-flex justify-content-center" *ngIf="champ.controls.length > 0">
                            <button class="btn btn-primary" [disabled]="!form.valid" type="submit">Enregistrer mes
                                produits</button>
                        </p>
                        <span>{{messageErrorProduit}}</span>
                    </form>
                </div>
            </div>
            <div class="list-group col"></div>

            <!-- AJOUT DE CLIENTS -->
            <div class=" d-flex flex-column col">
                <div class="d-flex flex-row m-2">
                    <button type="button" class="col-10 btn btn-info" (click)="ajoutChampClient()">
                        Ajouter un client
                    </button>

                </div>
                <div class=" ml-2">
                    <form class="form-group mt-5" [formGroup]="form" (ngSubmit)="form.valid && onSubmit()">
                        <div formArrayName="champClient"
                            class="d-flex col-12 justify-content-center align-items-center flex-column">
                            <div *ngFor="let item of champClient.controls; let i=index">
                                <div [formGroupName]="i" class="row mb-5">
                                    <div class="d-flex col ml-3 flex-column justify-content-center">
                                        <label class="col-2">NOM</label>
                                        <input class="form-control col" type="text" formControlName="nom">
                                    </div>
                                    <div class="d-flex col ml-3 flex-column justify-content-center">
                                        <label class="col-2">EMAIL</label>
                                        <input class="form-control col" type="text" formControlName="email">
                                    </div>
                                    <div class="d-flex col ml-3 flex-column justify-content-center">
                                        <label class="col-md-2">NUMERO</label>
                                        <input class="form-control col" type="text" formControlName="numero">
                                    </div>
                                    <div class="d-flex col ml-3 flex-column justify-content-center">
                                        <label class="col mt-3">ADRESSE</label>
                                        <input class="form-control col" type="text" formControlName="adresse">
                                    </div>
                                    <button class="btn btn-danger" (click)="suppChampClient(i)">Supprimer</button>
                                </div>
                            </div>
                        </div>
                        <p class="d-flex justify-content-center" *ngIf="champClient.controls.length > 0">
                            <button class="btn btn-primary" [disabled]="!form.valid" type="submit">Enregistrer mes
                                clients</button>
                        </p>
                        <span>{{messageErrorClient}}</span>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>