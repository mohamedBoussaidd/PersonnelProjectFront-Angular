<div class="mb-2 col w-100 d-flex justify-content-center">
  <button type="button" class="col-10 btn btn-outline-primary" (click)="ajoutChamp()">
    Ajouter un produit
  </button>

</div>
<!-- TBALEAU DE RECAPE DES PRODUITS -->
<div class="d-flex flex-row m-2">
  <div class="border col-4 ">
    <div class="col-12 d-flex justify-content-around flex-row mb-3">
      <div class="col-4 border text-center"><label for=""> Designation</label></div>
      <div class="col-4 border text-center"><label for=""> Prix</label></div>
      <div class="col-4 border text-center"><label for=""> Stock</label></div>
    </div>
    <div class=" col-12 d-flex justify-content-around flex-row" *ngFor="let item of listProduits">
      <div class="col-4">
        <p class="text-center border ">{{item.designation}}</p>
      </div>
      <div class="col-4">
        <p class="text-center border ">{{ item.prix | currency :'EUR':true }}</p>
      </div>
      <div class="col-4">
        <p class="text-center border ">{{item.stock}}</p>
      </div>
    </div>
  </div>
  <div class="border ml-2">
    <form class="form-group mt-5" [formGroup]="form" (ngSubmit)="form.valid && onSubmit()">
      <div formArrayName="champ" class="d-flex col-12 justify-content-center align-items-center flex-column">
        <div *ngFor="let item of champ.controls; let i=index">
          <div [formGroupName]="i" class="row mb-5">
            <div class="d-flex col ml-3 flex-column justify-content-center">
              <label class="col-2">Désignation</label>
              <input class="form-control col" type="text" formControlName="designation">
            </div>
            <div class="d-flex col ml-3 flex-column justify-content-center">
              <label class="col-2">Prix/U</label>
              <input class="form-control col" type="number" formControlName="prix">
            </div>
            <div class="d-flex col ml-3 flex-column justify-content-center">
              <label class="col-md-2">Stock</label>
              <input class="form-control col" type="number" formControlName="stock">
            </div>
            <div class="d-flex col ml-3 flex-column justify-content-center">
              <label class="col mt-3">Total du Stock HT</label>
              <input class="form-control col" readonly="readonly"
                value="{{form.get('champ').value[i].stock * form.get('champ').value[i].prix}} €">
            </div>
            <button class="btn btn-danger" (click)="suppChamp(i)">Supprimer</button>
          </div>
        </div>
      </div>
      <p class="d-flex justify-content-center" *ngIf="champ.controls.length > 0">
        <button class="btn btn-primary" [disabled]="!form.valid" type="submit">Enregistrer mes produits</button>
      </p>
      <span>{{messageError}}</span>
    </form>
  </div>
</div>
<hr class="divider margin">
<hr class="divider margin">

<!-- TABLEAU A METTRE EN PLACE POUR LES PRODUITS -->
<!-- <table class="table mt-5">
  <thead class="thead">
    <tr>
      <th class="invoice-head-invoice">Facture </th>
      <th class="invoice-head-invoice">Client</th>
      <th class="invoice-head-state">Date</th>
      <th class="invoice-head-total">Solde dû </th>
    </tr>
  </thead>
  <tbody>
    <tr class="invoice-row">
      <td class="invoice-col-id"><span class="invoice-id">FAC0001</span></td>
      <td class="invoice-col-client">Araah</td>
      <td class="invoice-col-date d-none d-sm-table-cell"><span class="localized-date">16 sept. 2021</span>
      </td>
      <td class="invoice-col-state">1000&nbsp;€</td>
      <td class="invoice-col-balance"><span class="currency"><span class="localized-number">1000&nbsp;€</span></span>
      </td>
    </tr>
    <tr class="invoice-row-total">
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td class="d-none d-sm-table-cell">&nbsp;</td>
      <td class="d-none d-sm-table-cell">&nbsp;</td>
      <td colspan="2">
        <div><span class="currency"><span class="currency-prefix">Solde dû </span><span
              class="localized-number">1000&nbsp;€</span></span></div>
      </td>
    </tr>
  </tbody>
</table> -->